<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>
    <script th:src="@{/js/list.js}"></script>
    <title>자료게시판</title>

</head>
<body>
    <div class="container mt-3">
        <div class="row">
            <div class="col-2">
                <a class="btn btn-outline-dark" th:href="@{/fileboard/write}" >작성</a>
            </div>
        </div>


        <div class="mb-3 mt-3 clearfix">
            <span class="float-start me-2">총 [[${count}]]개</span>
            <span class="float-start">page [[${page}]]/[[${totalPage}]]</span>
            <span class="float-end">
        <form name="frmPageRows">
            <input type="hidden" name="page" th:value="${page}">
            <select class="form-select" name="pageRows">
                <option value="10" th:selected="${pageRows==10}">10</option>
                <option value="15" th:selected="${pageRows==15}">15</option>
                <option value="20" th:selected="${pageRows==20}">20</option>
                <option value="50" th:selected="${pageRows==50}">50</option>
            </select>
        </form>
            </span>
        </div>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th>작성자</th>
                    <th>게임 설명</th>
                    <th>첨부 파일</th>
                    <th>작성 시간</th>
                    <th>다운로드 수</th>
                    <th>추천 수</th>
                    <th>#</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="fileboard : ${list}" >
                    <td th:text="${fileboard.user.username}" id="username">작성자</td>
                    <td th:text="${fileboard.content}">게임 설명</td>
                    <td> <li class="list-group-item">   <!-- th:each="attachment : ${board.files}" -->
                        <a th:href="@{/fileboard/download}" id="downCnt">다운로드</a>
                        <!-- (id=${attachment.id}) -->
                    </li></td>
                    <td th:text="${fileboard.regdate}">작성 시간</td>
                    <td th:text="${fileboard.count}">다운로드 수</td>
<!--                    <td id="recCnt" th:value="${recommend.board.count}"></td>-->
                    <td><button type="button" id="btnRec" class="btn btn-outline-dark">추천</button></td>
                </tr>
            </tbody>
        </table>

    </div>

<th:block th:insert="~{fileboard/pagination::pagination}"></th:block>

</body>
</html>